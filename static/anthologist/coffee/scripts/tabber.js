// Generated by CoffeeScript 1.6.1
(function() {
  var tabber;

  tabber = {
    /*
    Presumes that element classed .tabber has children
    .tabber-tab (with children .tabber-expand and .tabber-collapse)
    and .tabber-body, and these tabs or bodies are classed as
    u-active or u-inactive. Corresponding -tabs and -bodies have
    matching data-tabber attributes.
    */

    initialize: function() {
      return this.bindTabs();
    },
    bindTabs: function() {
      var self, _bindEm, _findMothers, _findTabs;
      self = this;
      _findMothers = function() {
        var mothers;
        mothers = $(".tabber");
        return mothers.each(function() {
          return _findTabs($(this));
        });
      };
      _findTabs = function($mother) {
        var tabs;
        tabs = $mother.find(".tabber-tab");
        return tabs.each(function() {
          return _bindEm($(this), $mother);
        });
      };
      _bindEm = function($tab, $mother) {
        return $tab.click(function() {
          return self.tabNow($tab, $mother);
        });
      };
      return _findMothers();
    },
    tabNow: function($tab, $mother) {
      /*
      For all parts of the .tabber: if it is active, make it
      inactive; if is inactive and corresponds with the clicked
      tab, make it active.
      */

      var dataId, parts;
      dataId = $tab.data("tabber");
      parts = $mother.find(".tabber-tab, .tabber-body");
      return parts.each(function() {
        var $it;
        $it = $(this);
        if ($it.data('tabber') === dataId && $it.hasClass("u-inactive")) {
          return $it.removeClass("u-inactive").addClass("u-active");
        } else if ($it.hasClass("u-active")) {
          return $it.removeClass("u-active").addClass("u-inactive");
        }
      });
    }
  };

  /*
  // TABBER
  
  $tab-timing: 1s ease
  
  .tabber-body
    +transition( (opacity $tab-timing, height $tab-timing) )
    &.u-inactive
      opacity: 0
      height: 0
      overflow: hidden
    &.u-active 
      opacity: 1
      height: auto
  
  .tabber-tab
    &.u-inactive
      .tabber-collapse 
        display: none    
      .tabber-expand 
        display: block
    &.u-active
      .tabber-collapse 
        display: block
      .tabber-expand 
        display: none
  */


}).call(this);
