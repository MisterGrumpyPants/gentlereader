/*! Picturefill - Responsive Images that work today. (and mimic the proposed Picture element with divs). Author: Scott Jehl, Filament Group, 2012 | License: MIT/GPLv2 */

define([],function(e){e.picturefill=function(){for(var t=e.document.getElementsByTagName("div"),i=0,a=t.length;a>i;i++)if(null!==t[i].getAttribute("data-picture")){for(var n=t[i].getElementsByTagName("div"),r=[],o=0,s=n.length;s>o;o++){var l=n[o].getAttribute("data-media");(!l||e.matchMedia&&e.matchMedia(l).matches)&&r.push(n[o])}var u=t[i].getElementsByTagName("img")[0];r.length?(u||(u=e.document.createElement("img"),u.alt=t[i].getAttribute("data-alt"),t[i].appendChild(u)),u.src=r.pop().getAttribute("data-src")):u&&t[i].removeChild(u)}},e.addEventListener?(e.addEventListener("resize",e.picturefill,!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill)}(this));